{% extends 'refrendos/baseRefrendo.html' %}

{% block refrendo_content %}
<h2>{{ form.instance.pk|yesno:"Editar Refrendo,Nuevo Refrendo" }}</h2>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- ======== Datos principales ======== -->
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="id_nombre_completo" class="form-label">Nombre completo:</label>
            {{ form.nombre_completo }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_dni" class="form-label">DNI:</label>
            {{ form.dni }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_numero_refrendo" class="form-label">Número de refrendo:</label>
            {{ form.numero_refrendo }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_tipo" class="form-label">Tipo:</label>
            {{ form.tipo }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_titulo" class="form-label">Título:</label>
            {{ form.titulo }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_curso" class="form-label">Curso:</label>
            {{ form.curso }}
        </div>
    </div>

    <!-- ======== Fechas ======== -->
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="id_fecha_vencimiento" class="form-label">Fecha de vencimiento:</label>
            <input type="date" name="fecha_vencimiento" id="id_fecha_vencimiento"
                   class="form-control"
                   value="{{ form.fecha_vencimiento.value|date:'Y-m-d' }}">
        </div>

        <div class="col-md-4 mb-3">
            <label for="id_fecha_expedicion" class="form-label">Fecha de expedición:</label>
            <input type="date" name="fecha_expedicion" id="id_fecha_expedicion"
                   class="form-control"
                   value="{{ form.fecha_expedicion.value|date:'Y-m-d' }}">
        </div>

        <div class="col-md-4 mb-3">
            <label for="id_fecha_salida" class="form-label">Fecha de salida:</label>
            <input type="date" name="fecha_salida" id="id_fecha_salida"
                   class="form-control"
                   value="{{ form.fecha_salida.value|date:'Y-m-d' }}">
        </div>
    </div>

    <!-- ===== Archivos ===== -->
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="id_archivo_pdf" class="form-label">
                <i class="bi bi-file-earmark-pdf-fill me-1"></i>
                Archivo PDF:
            </label>
            {{ form.archivo_pdf }}
        </div>

        <div class="col-md-6 mb-3">
            <label for="id_imagen" class="form-label">
                <i class="bi bi-image-fill me-1"></i>
                Imagen:
            </label>
            {{ form.imagen }}
        </div>
    </div>

    <!-- ======== Botones ======== -->
    <div class="mt-4">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="{% url 'refrendos:refrendo-list' %}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}
